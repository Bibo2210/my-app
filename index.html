<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>d
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EcoReveal Scanner</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="app">
    <!-- Left: Scanner -->
    <section class="card">
      <div class="hero">
        <div class="brand">
          <div class="logo" aria-hidden>ER</div>
          <div>
            <h1>EcoReveal Scanner</h1>
            <p class="subtitle">Scan with your camera or upload a photo to generate an eco & nutrition preview. (Demo front‑end)</p>
          </div>
        </div>
      </div>
      <div class="panel">
        <div class="controls">
          <button id="startCamBtn" aria-label="Start camera">Use Camera</button>
          <button id="captureBtn" class="secondary" disabled>Capture</button>
          <button id="stopCamBtn" class="secondary" disabled>Stop</button>

          <label class="file-label" for="fileInput" title="Upload photo">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden>
              <path d="M12 16V4m0 0 4 4m-4-4-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <rect x="3" y="14" width="18" height="7" rx="2" stroke="currentColor" stroke-width="2"/>
            </svg>
            <span>Upload Photo</span>
            <input id="fileInput" type="file" accept="image/*" capture="environment" />
          </label>
        </div>

        <div class="viewer" id="viewer">
          <video id="video" class="hidden" playsinline></video>
          <img id="preview" alt="Preview" class="hidden"/>
          <canvas id="canvas" class="hidden"></canvas>
          <div class="hint" id="hint">No image yet. Start camera or upload a photo.</div>
        </div>

        <div class="dropzone" id="dropzone">Or drag & drop an image here</div>
      </div>
      <p class="footer">Note: Camera access requires a secure context (HTTPS) or <code>localhost</code>.</p>
    </section>

    <!-- Right: Report -->
    <aside class="card right">
      <h2 style="margin:6px 0 10px; font-size:20px">Analysis</h2>
      <div class="report" id="reportBox">
        <h3>Status</h3>
        <div id="status">Waiting for an image…</div>
        <div class="score hidden" id="score">
          <div class="ring" id="ring"><strong id="scoreNum">—</strong></div>
          <div>
            <div style="color:var(--muted); font-size:13px">EcoScore (demo)</div>
            <strong id="scoreLabel">—</strong>
          </div>
        </div>
        <div class="kv hidden" id="kv">
          <span>Detected Type</span><span id="detType">—</span>
          <span>Recyclability</span><span id="recycle">—</span>
          <span>Estimated Carbon</span><span id="carbon">—</span>
        </div>
        <ul class="alt-list hidden" id="alts"></ul>
      </div>
      <p class="footer">Connect your own model/API in <code>analyzeImage()</code> to power real results.</p>
    </aside>
  </main>

  <script src="script.js"></script>
</body>
</html>
